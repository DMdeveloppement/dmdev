---
import type { CollectionEntry } from 'astro:content';

import { dateSorter } from '@/utils/date-sorters';

import Achievement from './achievement.astro';

interface Props {
  entries: CollectionEntry<'achievements'>[];
  class?: string;
}

const { entries, class: className } = Astro.props;
---

<ul class={className}>
  {
    entries
      .map((achevementEntry) => ({ achevementEntry, date: achevementEntry.data.date }))
      .toSorted(dateSorter)
      .map(({ achevementEntry }, i, arr) => (
        <>
          <Achievement {achevementEntry} />
          {i < arr.length - 1 && <hr />}
        </>
      ))
  }
</ul>
